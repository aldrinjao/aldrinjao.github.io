(this["webpackJsonpdata-overlay"]=this["webpackJsonpdata-overlay"]||[]).push([[0],{101:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t(10),r=t.n(i),c=(t(66),t(40)),l=t.n(c),o=t(51),s=t(18),d=t(8),m=t(37),p=t.n(m),f=t(2),u=function(e){var a=e.basemaps,t=e.activeBaseMap,n=e.changeBaseMap;return Object(f.jsx)("div",{className:"toggle-group absolute top right mr60 mt12 border border--2 border--white bg-white shadow-darken10 z1",children:a.map((function(e,a){return Object(f.jsxs)("label",{className:"toggle-container",children:[Object(f.jsx)("input",{onChange:function(){return n(a)},checked:e.name===t.name,name:"toggle",type:"radio"}),Object(f.jsx)("div",{className:"toggle txt-s py3 toggle--active-white",children:e.name})]},a)}))})},b=(t(69),t(52)),j=t.n(b),g=t(53),h=(t(88),t(89),t(15)),y=t(38),x=t(129),O=function(e){var a=e.id,t=e.name,n=e.checked,i=e.setLayerlist,r=e.maplayers;return Object(f.jsxs)("div",{children:[Object(f.jsx)(x.a,{color:"primary",id:a,name:t,checked:n,onClick:function(e){e.stopPropagation();var a=r.map((function(a){e.target.checked;return e.target.name===a.name&&(a.checked=!a.checked),a}));i(a)},title:"toggle layer",style:{transform:"scale(0.8)"}}),t]})},v=function(e){var a=e.stops,t=(e.styling,e.name,e.legend);console.log(t),console.log(a);return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"bg-white py6 px12 shadow-darken10 round z1",children:t.map((function(e,a){return Object(f.jsxs)("div",{className:"txt-m",children:[Object(f.jsx)("span",{className:"mr12 round-full w12 h12 inline-block align-middle",style:{backgroundColor:e[1]}}),Object(f.jsx)("span",{children:"".concat(e[0].toLocaleString())})]},a)}))})})},S=t(125),L=Object(S.a)({root:{padding:"5px 10px",width:"100%"},sliderLayer:{width:"100%",display:"flex",alignItems:"center",margin:"auto",justifyContent:"space-between"},sliderLabels:{width:"80%",display:"flex",alignItems:"center"},layerDesc:{fontSize:".8rem",lineHeight:"1.2",margin:"0px 0px 0px 0px"}}),w=[{name:"Basemap1",description:"Estimated total population",property:"pop_est",stops:[[0,"#f8d5cc"],[1e6,"#231266"],[5e6,"#f1a8a5"],[1e7,"#ee8f9a"],[5e7,"#ec739b"],[1e8,"#aaff12"],[25e7,"#c44cc0"],[5e8,"#9f43d7"],[1e9,"#6e40e6"]]},{name:"Basemap2",description:"Estimate total GDP in millions of dollars",property:"gdp_md_est",stops:[[0,"#f8d5cc"],[1e3,"#f4bfb6"],[5e3,"#f1a8a5"],[1e4,"#ee8f9a"],[5e4,"#ec739b"],[1e5,"#dd5ca8"],[25e4,"#c44cc0"],[5e6,"#9f43d7"],[1e7,"#6e40e6"]]}],C=function(e){e.id;var a=e.name,t=(e.checked,e.setLayerlist,e.maplayers,e.description),i=(e.opacity,e.styling),r=L(),c=Object(n.useState)(w[0]),l=Object(d.a)(c,2),o=l[0];l[1];return Object(f.jsxs)("div",{className:r.root,children:[Object(f.jsx)("div",{className:r.layerDesc,children:t}),Object(f.jsx)(v,{active:o,stops:o.stops,legend:i[a].legend})]})},N=t(128),k=t(126),P=t(127),I=t(55),B=t.n(I),F=function(e){var a=e.maplayers,t=e.setLayerlist,n=e.styling;return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{id:"layerpanel",className:"bg-white absolute mt12 ml12 py12 px12 shadow-darken10 round z1 width400",children:[Object(f.jsx)("div",{id:"paneltitle",children:"Layers"}),Object(f.jsx)(y.a,{onDragEnd:function(e){if(e.destination){var n=Array.from(a),i=n.splice(e.source.index,1),r=Object(d.a)(i,1)[0];n.splice(e.destination.index,0,r),t(n)}},children:Object(f.jsx)(y.c,{droppableId:"layers",children:function(e){return Object(f.jsxs)("ul",Object(h.a)(Object(h.a)({},e.droppableProps),{},{ref:e.innerRef,className:"cardcontainer",children:[a.map((function(e,i){var r=e.id,c=e.name,l=e.checked,o=e.opacity,s=e.description;return Object(f.jsx)(y.b,{draggableId:r,index:i,children:function(e){return Object(f.jsx)("li",Object(h.a)(Object(h.a)({ref:e.innerRef},e.draggableProps),{},{className:"listitem",children:Object(f.jsxs)(N.a,{className:"layeracc",children:[Object(f.jsx)(k.a,{expandIcon:Object(f.jsx)(B.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(f.jsxs)("div",{className:"layerRow",children:[Object(f.jsx)("span",Object(h.a)(Object(h.a)({className:"material-icons handle",title:"drag to reorder"},e.dragHandleProps),{},{children:"drag_indicator"})),Object(f.jsx)(O,{id:r,name:c,checked:l,setLayerlist:t,maplayers:a})]})}),Object(f.jsx)(P.a,{children:Object(f.jsx)(C,{id:r,name:c,checked:l,setLayerlist:t,maplayers:a,opacity:o,description:s,styling:n})})]})}))}},r)})),e.placeholder]}))}})})]})})};p.a.accessToken="pk.eyJ1IjoicnVtcC1jb25mbGljdGFsZXJ0IiwiYSI6ImNrczRiMjhlbjFvN2gyeXJ3cWVmNGJueWoifQ.4PjwrtDVrh5i919c0hBCTA";var R=function(){var e=[{name:"Streets",url:"mapbox://styles/mapbox/streets-v11"},{name:"Satellite",url:"mapbox://styles/mapbox/satellite-v9"},{name:"Light",url:"mapbox://styles/mapbox/light-v10"},{name:"Dark",url:"mapbox://styles/mapbox/dark-v10"}],a=Object(n.useState)(null),t=Object(d.a)(a,2),i=t[0],r=t[1],c=Object(n.useState)(!0),m=Object(d.a)(c,2),b=m[0],h=m[1],y=Object(n.useRef)(null),x=Object(n.useState)(null),O=Object(d.a)(x,2),v=O[0],S=O[1],L=Object(n.useState)(e[0]),w=Object(d.a)(L,2),C=w[0],N=w[1],k=Object(n.useState)(g),P=Object(d.a)(k,2),I=P[0],B=(P[1],function(){Object(s.a)(i).reverse().map((function(e){e.checked?v.addLayer({id:e.name,type:e.type,source:e.name,"source-layer":e.column,paint:I[e.name].paint}):void 0!==v.getLayer(e.name)&&v.removeLayer(e.name)}))});Object(n.useEffect)((function(){R();var e=new p.a.Map({container:y.current,style:C.url,center:[124,8],zoom:7,maxZoom:15,minZoom:7});return e.on("load",(function(){S(e)})),e.addControl(new p.a.NavigationControl),function(){return e.remove()}}),[]),Object(n.useEffect)((function(){v&&(M(),B(),S(v))}),[i]),Object(n.useEffect)((function(){v&&(v.setStyle(C.url),v.on("style.load",(function(){M(),B()})))}),[C]);var R=function(){var e=Object(o.a)(l.a.mark((function e(){var a,t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("data.json");case 2:return a=e.sent,e.next=5,a.data;case 5:t=e.sent,r(Object.values(t)),h(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){i.map((function(e){void 0!==v.getLayer(e.name)&&v.removeLayer(e.name),v.getSource(e.name)&&v.removeSource(e.name),v.addSource(e.name,{type:"vector",url:"mapbox://"+e.url,minzoom:2})}))};return b?Object(f.jsx)("div",{children:Object(f.jsx)("div",{ref:y,className:"map-container"})}):Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{ref:y,className:"map-container"}),Object(f.jsx)(u,{basemaps:e,activeBaseMap:C,changeBaseMap:function(a){N(e[a])}}),Object(f.jsx)(F,{maplayers:i,setLayerlist:r,styling:I})]})};var M=function(){return Object(f.jsx)("div",{children:Object(f.jsx)(R,{})})};r.a.render(Object(f.jsx)(M,{}),document.getElementById("root"))},53:function(e){e.exports=JSON.parse('{"Service POIS":{"id":"3","name":"Service POIS","paint":{"circle-color":["match",["get","RUMP"],"Community use","#eacb00","Commercial use","#b82b30","hsla(0, 0%, 0%, 0)"],"circle-radius":["interpolate",["linear"],["zoom"],0,3,5,3.3000000000000003,10,4.199999999999999,22,6],"circle-stroke-color":["match",["get","RUMP"],"Community use","rgb(164, 142, 0)","Commercial use","rgb(129, 30, 34)","hsla(0, 0%, 0%, 0)"],"circle-stroke-width":0.75},"legend":[["Community use","#eacb00"],["Commercial use","#b82b30"]]},"Service Links":{"id":"4","name":"Service Links","paint":{"line-color":["match",["get","RUMP"],"Community use","#eacb00","Commercial use","#b82b30","hsla(0, 0%, 0%, 0)"],"line-opacity":1},"legend":[["Community use","#eacb00"],["Commercial use","#b82b30"]]},"RUMP":{"id":"5","name":"RUMP","paint":{"fill-color":["match",["get","RUMP"],"Restoration area","#3655d2","Commercial use","hsl(358, 62%, 45%)","Community use","#eacb00","Protection area","#00960f","hsla(0, 0%, 0%, 0)"]},"legend":[["Restoration area","#3655d2"],["Commercial use","hsl(358, 62%, 45%)"],["Community use","#eacb00"],["Protection area","#00960f"]]},"Land Cover":{"id":"6","name":"Land Cover","paint":{"fill-color":["match",["get","Landcover"],"Annual crop","#bb710a","Built-up area","#e4b700","Canopy","#00640d","Fallow","#96b357","Forest","hsl(26, 75%, 63%)","Inland water","hsl(2, 70%, 61%)","Open sand/Barren","#a7a7a7","Wetland","#4c563b","Perrenial crop","#3d9949","hsla(0, 0%, 0%, 0)"]},"legend":[["Annual crop","#bb710a"],["Built-up area","#e4b700"],["Canopy","#00640d"],["Fallow","#96b357"],["Forest","hsl(26, 75%, 63%)"],["Inland water","hsl(2, 70%, 61%)"],["Open sand/Barren","#a7a7a7"],["Wetland","#4c563b"],["Perrenial crop","#3d9949"]]},"TLA":{"id":"7","name":"TLA","paint":{"fill-color":["interpolate",["exponential",1],["get","DN"],96,"hsl(295, 78%, 73%)",169,"hsl(266, 83%, 68%)",242,"#377eb8"],"fill-opacity":0.5},"legend":[["TLA","#377eb8"]]},"Flood Susceptibility":{"id":"8","name":"Flood Susceptibility","paint":{"fill-color":["match",["get","FloodSusc"],"Low Flooding","#ffd501","Very High Flooding","#b20b00","Medium Flooding","#ff9f05","High Flooding","#ff3401","hsla(0, 0%, 0%, 0)"],"fill-opacity":0.5},"legend":[["Low Flooding","#ffd501"],["Very High Flooding","#b20b00"],["Medium Flooding","#ff9f05"],["High Flooding","#ff3401"]]},"Unclaimed Areas":{"id":"9","name":"Unclaimed Areas","paint":{"fill-color":["interpolate",["exponential",1],["get","Area"],0,"#ff7f00",10000000,"#ff7f00"],"fill-opacity":0.5},"legend":[["Unclaimed Areas","#ff7f00"]]},"Indicative Boundary":{"id":"10","name":"Indicative Boundary","paint":{"line-color":"rgb(175, 163, 163)","line-width":2},"legend":[["Indicative Boundary","rgb(175, 163, 163)"]]},"Land Use":{"id":"11","name":"Land Use","paint":{"fill-color":["match",["get","Landuse"],"Forest","#00640d","Closed forest","#004e03","Ricefield","#f0af08","Coconut-dominated area","#4fc16c","Industrial area","#676767","Residential area/Built-up area","#ffea25","Brushland","#9aca7c","Tree farm","#6fe5a6","Riparian forest","#148b69","hsla(0, 0%, 0%, 0)"],"fill-opacity":0.5},"legend":[["Forest","#00640d"],["Closed forest","#004e03"],["Ricefield","#f0af08"],["Coconut-dominated area","#4fc16c"],["Industrial area","#676767"],["Residential area/Built-up area","#ffea25"],["Brushland","#9aca7c"],["Tree farm","#6fe5a6"],["Riparian forest","#148b69"]]},"Mining Sites":{"id":"11","name":"Mining Sites","paint":{"fill-color":["interpolate",["exponential",1],["get","fid"],0,"#c07a00",1000000,"#c07a00"],"fill-opacity":0.5},"legend":[["Mining Sites","#c07a00"]]},"NIPAS System":{"id":"12","name":"NIPAS System","paint":{"fill-color":["interpolate",["exponential",1],["get","DN"],0,"#94d180",1000000,"#94d180"],"fill-opacity":0.5},"legend":[["NIPAS System","#94d180"]]},"River Basin":{"id":"13","name":"River Basin","paint":{"fill-color":["interpolate",["exponential",1],["get","DN"],0,"#377eb8",300,"#377eb8"],"fill-opacity":0.5},"legend":[["River Basin","#377eb8"]]},"Proc Watershed":{"id":"13","name":"Proc Watershed","paint":{"fill-color":["interpolate",["exponential",1],["get","fid"],0,"#a5bfdd",300,"#a5bfdd"],"fill-opacity":0.5},"legend":[["Proc Watershed","#a5bfdd"]]},"Landslide Hazard":{"id":"14","name":"Landslide Hazard","paint":{"fill-color":["match",["get","FID"],0,"#ffd501",1,"#ff9f05",3,"#ff3401","hsla(0, 0%, 0%, 0)"],"fill-opacity":0.5},"legend":[["Low","#ffd501"],["Medium","#ff9f05"],["High","#ff3401"]]},"Faultlines":{"id":"15","name":"Landslide Hazard","paint":{"line-color":["match",["get","status"],"Active","#b20b00","Potential","#ff9f05","hsla(0, 0%, 0%, 0)"]},"legend":[["Active","#b20b00"],["Potential","#ff9f05"]]}}')},66:function(e,a,t){},69:function(e,a,t){},88:function(e){e.exports=JSON.parse("{}")},89:function(e){e.exports=JSON.parse("{}")}},[[101,1,2]]]);
//# sourceMappingURL=main.b4c3d046.chunk.js.map